<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Battery & Inverter Calculator</title>
  <link rel="icon" href="favicon.png" type="image/png" />
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #f3f6fa;
    }
    h1 { color: #007bff; }
    label {
      font-weight: bold;
      margin-top: 15px;
      display: block;
    }
    input {
      padding: 8px;
      margin-top: 5px;
      width: 240px;
    }
    button {
      margin-top: 20px;
      padding: 10px 20px;
      background: #007bff;
      color: white;
      border: none;
      font-size: 16px;
    }
    .result {
      margin-top: 20px;
      background: #e7f1ff;
      padding: 15px;
      border-left: 5px solid #007bff;
    }
  </style>
</head>
<body>

  <h1>üîã Battery & Inverter Smart Calculator</h1>

  <label>Load (Watts):</label>
  <input type="number" id="load" placeholder="e.g., 500" />

  <label>Backup Time (Hours):</label>
  <input type="number" id="backup" placeholder="e.g., 3" />

  <label>Energy Consumption (kWh / Units):</label>
  <input type="number" id="energy" placeholder="e.g., 1.5" />

  <label>Inverter Rating (VA):</label>
  <input type="number" id="inverter" placeholder="e.g., 625" />

  <label>Battery Voltage (V):</label>
  <input type="number" id="voltage" placeholder="e.g., 12" />

  <label>Battery Capacity (Ah):</label>
  <input type="number" id="capacity" placeholder="e.g., 150" />

  <label>Charging Current (A):</label>
  <input type="number" id="charge" placeholder="e.g., 10" />

  <label>Number of Batteries:</label>
  <input type="number" id="batteries" placeholder="e.g., 2" />

  <button onclick="calculate()">üîç Calculate</button>

  <div class="result" id="result" style="display:none;"></div>

  <script>
    function calculate() {
      let load = parseFloat(document.getElementById("load").value);
      let backup = parseFloat(document.getElementById("backup").value);
      let energy = parseFloat(document.getElementById("energy").value);
      let inverter = parseFloat(document.getElementById("inverter").value);
      const voltage = parseFloat(document.getElementById("voltage").value);
      const capacity = parseFloat(document.getElementById("capacity").value);
      const charge = parseFloat(document.getElementById("charge").value);
      const batteries = parseFloat(document.getElementById("batteries").value);

      let pf = 0.8;
      let output = "";

      // 1. Smart energy calculations
      if (isNaN(energy) && !isNaN(load) && !isNaN(backup)) {
        energy = (load * backup) / 1000;
        output += `<b>üîå Energy Consumption:</b> ${energy.toFixed(2)} kWh<br>`;
      }

      if (isNaN(load) && !isNaN(energy) && !isNaN(backup)) {
        load = (energy * 1000) / backup;
        output += `<b>‚ö° Load Required:</b> ${load.toFixed(1)} W<br>`;
      }

      if (isNaN(backup) && !isNaN(load) && !isNaN(energy)) {
        backup = (energy * 1000) / load;
        output += `<b>‚è± Backup Time:</b> ${backup.toFixed(2)} hrs<br>`;
      }

      // 2. Inverter rating
      if (isNaN(inverter) && !isNaN(load)) {
        inverter = load / pf;
        output += `<b>üîå Suggested Inverter Rating:</b> ${Math.ceil(inverter)} VA<br>`;
      }

      if (!isNaN(inverter) && isNaN(load)) {
        load = inverter * pf;
        output += `<b>‚ö° Estimated Load from Inverter:</b> ${Math.round(load)} W<br>`;
      }

      // 3. Required Battery Capacity
      if (!isNaN(load) && !isNaN(backup) && !isNaN(voltage)) {
        const requiredAh = (load * backup) / voltage;
        output += `<b>üîã Required Battery Capacity:</b> ${requiredAh.toFixed(1)} Ah<br>`;
      }

      // 4. Charging Time
      if (!isNaN(capacity) && !isNaN(charge)) {
        const time = capacity / charge;
        output += `<b>‚ö° Charging Time:</b> ${time.toFixed(1)} hrs<br>`;
      }

      // 5. Total Voltage
      if (!isNaN(voltage) && !isNaN(batteries)) {
        const totalV = voltage * batteries;
        output += `<b>üîã Total Battery Bank Voltage:</b> ${totalV} V<br>`;
      }

      document.getElementById("result").innerHTML = output || "Please enter at least 2 values.";
      document.getElementById("result").style.display = "block";
    }
  </script>

</body>
</html>

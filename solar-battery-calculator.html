<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Advanced Solar & Battery Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      max-width: 800px;
      margin: auto;
    }
    h1 {
      text-align: center;
      color: darkgreen;
    }
    label {
      font-weight: bold;
      margin-top: 12px;
      display: block;
    }
    input {
      padding: 8px;
      width: 100%;
      max-width: 300px;
      margin-bottom: 10px;
    }
    button {
      padding: 10px 20px;
      margin-top: 15px;
      background-color: #007bff;
      color: white;
      border: none;
      cursor: pointer;
    }
    .result {
      margin-top: 20px;
      font-weight: bold;
      line-height: 1.6;
    }
  </style>
</head>
<body>

  <h1>Advanced Solar & Battery Calculator</h1>

  <label for="batteryAh">Battery Capacity (Ah):</label>
  <input type="number" id="batteryAh" placeholder="e.g. 120">

  <label for="batteryVoltage">Battery Voltage (V):</label>
  <input type="number" id="batteryVoltage" placeholder="e.g. 12">

  <label for="loadWatts">Load Power (Watts):</label>
  <input type="number" id="loadWatts" placeholder="e.g. 100">

  <label for="panelKW">Solar Panel Size (kW):</label>
  <input type="number" id="panelKW" placeholder="e.g. 1.5">

  <label for="sunHours">Sunlight Hours per Day:</label>
  <input type="number" id="sunHours" placeholder="e.g. 5">

  <button onclick="calculate()">Calculate</button>

  <div class="result" id="result"></div>

  <script>
    function calculate() {
      const Ah = parseFloat(document.getElementById('batteryAh').value);
      const V = parseFloat(document.getElementById('batteryVoltage').value);
      const loadW = parseFloat(document.getElementById('loadWatts').value);
      const panelKW = parseFloat(document.getElementById('panelKW').value);
      const sunHours = parseFloat(document.getElementById('sunHours').value);

      if (isNaN(Ah) || isNaN(V) || isNaN(loadW) || isNaN(panelKW) || isNaN(sunHours)) {
        document.getElementById('result').innerHTML = "‚ö†Ô∏è Please fill in all fields.";
        return;
      }

      const batteryWh = Ah * V;
      const backupTime = batteryWh / loadW;
      const panelWatt = panelKW * 1000;
      const dailyPanelOutputWh = panelWatt * sunHours;

      const loadEnergyKWh = (loadW * sunHours) / 1000;

      const netChargePerDay = dailyPanelOutputWh - (loadW * sunHours);

      let rechargeNote = "";
      if (netChargePerDay > 0) {
        const rechargeTime = batteryWh / netChargePerDay;
        rechargeNote = `‚úÖ Battery can be charged in approx <strong>${rechargeTime.toFixed(2)} day(s)</strong> even with load running.`;
      } else {
        rechargeNote = `‚ùå Battery cannot be fully charged with current panel and load. Increase panel size or reduce load.`;
      }

      document.getElementById('result').innerHTML = `
        üîã Battery Capacity: ${batteryWh.toFixed(2)} Wh<br>
        ‚è±Ô∏è Backup Time without charging: ${backupTime.toFixed(2)} hrs<br>
        ‚òÄÔ∏è Daily Solar Output: ${dailyPanelOutputWh.toFixed(2)} Wh<br>
        ‚ö° Load Energy Usage Per Day: ${loadEnergyKWh.toFixed(2)} kWh/day<br>
        üìâ Net Solar Energy into Battery: ${netChargePerDay.toFixed(2)} Wh<br>
        ${rechargeNote}
      `;
    }
  </script>

</body>
</html>

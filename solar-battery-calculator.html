<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Solar & Battery Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      max-width: 800px;
      margin: auto;
    }
    h1 {
      text-align: center;
      color: green;
    }
    label {
      font-weight: bold;
      display: block;
      margin-top: 15px;
    }
    input {
      padding: 8px;
      width: 100%;
      max-width: 300px;
      margin-bottom: 10px;
    }
    button {
      padding: 10px 20px;
      margin-top: 15px;
      background-color: #007bff;
      color: white;
      border: none;
      cursor: pointer;
    }
    .result {
      margin-top: 20px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>Solar & Battery Calculator</h1>

  <label for="energy">Energy Usage (kWh/day):</label>
  <input type="number" id="energy" placeholder="e.g. 5">

  <label for="sunlight">Sunlight Hours (hr/day):</label>
  <input type="number" id="sunlight" placeholder="e.g. 5">

  <label for="panel">Solar Panel Size (kW):</label>
  <input type="number" id="panel" placeholder="e.g. 1.5">

  <label for="voltage">Voltage (V):</label>
  <input type="number" id="voltage" placeholder="e.g. 12">

  <label for="current">Current (A):</label>
  <input type="number" id="current" placeholder="e.g. 10">

  <label for="battery">Battery Capacity (Ah):</label>
  <input type="number" id="battery" placeholder="e.g. 120">

  <button onclick="calculate()">Calculate</button>

  <div class="result" id="result"></div>

  <script>
    function calculate() {
      const E = parseFloat(document.getElementById('energy').value);
      const H = parseFloat(document.getElementById('sunlight').value);
      const P = parseFloat(document.getElementById('panel').value);
      const V = parseFloat(document.getElementById('voltage').value);
      const I = parseFloat(document.getElementById('current').value);
      const B = parseFloat(document.getElementById('battery').value);

      let resultText = "";

      // Solar calculation: E = P × H
      if (!isNaN(E) && !isNaN(H) && isNaN(P)) {
        resultText += `Panel Size: ${(E / H).toFixed(2)} kW<br>`;
      } else if (!isNaN(E) && !isNaN(P) && isNaN(H)) {
        resultText += `Required Sunlight Hours: ${(E / P).toFixed(2)} hrs<br>`;
      } else if (!isNaN(P) && !isNaN(H) && isNaN(E)) {
        resultText += `Energy Usage: ${(P * H).toFixed(2)} kWh/day<br>`;
      }

      // Voltage & Current check
      if (!isNaN(V) && !isNaN(I)) {
        const power = V * I;
        resultText += `Power: ${power.toFixed(2)} Watts<br>`;
      }

      // Battery recharge time (in hours)
      // Recharge Time = (Battery Capacity × Voltage) / (Panel Output in Watts)
      if (!isNaN(B) && !isNaN(V) && !isNaN(P)) {
        const batteryWh = B * V;
        const panelWatt = P * 1000;
        const rechargeTime = batteryWh / panelWatt;
        resultText += `Battery Recharge Time: ${rechargeTime.toFixed(2)} hrs<br>`;
      }

      if (resultText === "") {
        resultText = "Please fill at least two values to calculate others.";
      }

      document.getElementById('result').innerHTML = resultText;
    }
  </script>
</body>
</html>
